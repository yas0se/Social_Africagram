generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Aime {
  id             Int         @id @default(autoincrement())
  utilisateur_id Int
  post_id        Int
  date_creation  DateTime    @default(now())
  Post           Post        @relation(fields: [post_id], references: [id])
  Utilisateur    Utilisateur @relation(fields: [utilisateur_id], references: [id])
}

model Commentaire {
  id             Int         @id @default(autoincrement())
  utilisateur_id Int
  post_id        Int
  message        String
  date_creation  DateTime    @default(now())
  Post           Post        @relation(fields: [post_id], references: [id])
  Utilisateur    Utilisateur @relation(fields: [utilisateur_id], references: [id])
}

model Follower {
  id                                             Int         @id @default(autoincrement())
  following_id                                   Int
  follower_id                                    Int
  date_creation                                  DateTime    @default(now())
  Utilisateur_Follower_follower_idToUtilisateur  Utilisateur @relation("Follower_follower_idToUtilisateur", fields: [follower_id], references: [id])
  Utilisateur_Follower_following_idToUtilisateur Utilisateur @relation("Follower_following_idToUtilisateur", fields: [following_id], references: [id])
}

model Post {
  id                Int           @id @default(autoincrement())
  utilisateur_id    Int
  caption           String
  date_creation     DateTime      @default(now())
  date_modification DateTime
  Aime              Aime[]
  Commentaire       Commentaire[]
  Utilisateur       Utilisateur   @relation(fields: [utilisateur_id], references: [id])
}

model Profile {
  id                Int         @id @default(autoincrement())
  id_utilisateur    Int
  sexe              String
  pays              String
  ville             String
  date_creation     DateTime    @default(now())
  date_modification DateTime
  Utilisateur       Utilisateur @relation(fields: [id_utilisateur], references: [id])
}

model Utilisateur {
  id                                          Int           @id @default(autoincrement())
  id_profile                                  Int
  firstname                                   String
  lastname                                    String
  email                                       String        @unique
  password                                    String
  isAdmin                                     Boolean       @default(false)
  date_creation                               DateTime      @default(now())
  date_modification                           DateTime
  Aime                                        Aime[]
  Commentaire                                 Commentaire[]
  Follower_Follower_follower_idToUtilisateur  Follower[]    @relation("Follower_follower_idToUtilisateur")
  Follower_Follower_following_idToUtilisateur Follower[]    @relation("Follower_following_idToUtilisateur")
  Post                                        Post[]
  Profile                                     Profile[]
}
